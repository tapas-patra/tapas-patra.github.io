// Initialize Supabase Client
const supabase = supabase.createClient(CONFIG.SUPABASE_URL, CONFIG.SUPABASE_ANON_KEY);

// Function to get similar documents based on embedding
async function getSimilarDocuments(embedding, limit = CONFIG.MAX_DOCUMENTS) {
    try {
        const { data, error } = await supabase.rpc('match_documents', {
            query_embedding: embedding,
            match_threshold: CONFIG.SIMILARITY_THRESHOLD,
            match_count: limit
        });
        
        if (error) throw error;
        return data;
    } catch (error) {
        console.error("Error fetching similar documents:", error);
        throw error;
    }
}
