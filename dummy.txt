<script>
    // Check for URL parameters to override saved mode
    document.addEventListener('DOMContentLoaded', function() {
        // Parse the URL parameters
        const urlParams = new URLSearchParams(window.location.search);
        const modeParam = urlParams.get('mode');
        
        // If URL parameter exists, it overrides localStorage
        if (modeParam === 'cli') {
            // Force CLI mode
            localStorage.setItem('portfolioMode', 'cli');
            setMode('cli');
        } else if (modeParam === 'ui') {
            // Force UI mode
            localStorage.setItem('portfolioMode', 'ui');
            setMode('ui');
        }
        
        // Make sure CLI mode button properly includes the parameter
        document.getElementById('ui-to-cli-btn').addEventListener('click', function() {
            localStorage.setItem('portfolioMode', 'cli');
            // Instead of calling setMode directly, set the URL parameter
            window.location.href = 'index.html?mode=cli';
        });
    });
</script>
